var St=Object.defineProperty;var wt=(e,n,r)=>n in e?St(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r;var ce=(e,n,r)=>(wt(e,typeof n!="symbol"?n+"":n,r),r);import{R as K,r as c,j as t,u as T,N as oe,a as Ft,m as kt,d as se,e as Y,O as ge,Q as Dt,b as xe,c as d,B as x,T as w,L as Q,f as Pe,g as H,I as He,h as j,i as P,C as ie,k as ye,l as G,D as It,n as Tt,o as z,p as Pt,q as Lt,s as Nt,t as L,M as ae,v as Mt,A as Wt,w as Rt,x as Ge,y as zt,z as be,E as Ut,F as jt,G as q,H as V,J as Ce,K as Le,P as O,S as qt,U as Vt,V as ze,W as Ot,X as $t,Y as Yt,Z as Ke,_ as Qe,$ as Ht,a0 as Ue,a1 as v,a2 as Gt,a3 as Ne,a4 as Kt,a5 as Qt,a6 as Ze,a7 as Ee,a8 as Me,a9 as k,aa as Zt,ab as N,ac as Jt,ad as Je,ae as Xt,af as _t,ag as en,ah as tn,ai as nn,aj as Xe,ak as Be,al as rn,am as an,an as on,ao as te,ap as sn,aq as un,ar as ln,as as cn,at as dn,au as je,av as pn,aw as hn,ax as fn,ay as mn,az as gn,aA as xn,aB as yn,aC as bn,aD as Cn,aE as fe,aF as En,aG as _e,aH as Ie,aI as pe,aJ as Bn,aK as vn,aL as An,aM as Sn,aN as wn,aO as Fn,aP as ve,aQ as et,aR as kn,aS as qe,aT as Dn,aU as In,aV as Tn,aW as Pn,aX as Ln,aY as Nn,aZ as Mn,a_ as Wn,a$ as Rn,b0 as zn,b1 as Un,b2 as jn}from"./vendor.b882b0df.js";const qn=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerpolicy&&(s.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?s.credentials="include":a.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}};qn();class Vn{constructor(){ce(this,"key","LOCAL_STORAGE_USER");ce(this,"data");ce(this,"callbacks");this.data=this.getDataFromStore(),this.callbacks=[]}bind(n){this.callbacks.push(n)}unbind(n){this.callbacks=this.callbacks.filter(r=>r!==n)}getAccessToken(){var n;return(n=this.data)==null?void 0:n.accessToken}getUser(){var n;return(n=this.data)==null?void 0:n.userInfo}updateUser(n){const r={...this.data.userInfo,...n};this.set({...this.data,userInfo:r})}clear(){this.data=void 0,localStorage.removeItem(this.key),this.callbacks.forEach(n=>n(this.data))}set(n){this.data=n,localStorage.setItem(this.key,JSON.stringify(n)),this.callbacks.forEach(r=>r(n))}getDataFromStore(){let n=localStorage.getItem(this.key);try{n&&(n=JSON.parse(n))}catch(r){n=null,console.error(r)}return n}}const F=new Vn,tt=K.createContext(void 0);function Z(){return K.useContext(tt)}function On({children:e}){const[n,r]=c.exports.useState(()=>F.getUser());return c.exports.useEffect(()=>{const o=a=>r(a==null?void 0:a.userInfo);return F.bind(o),()=>{F.unbind(o)}},[]),t(tt.Provider,{value:n,children:e})}function $n({children:e}){const n=Z(),r=T();return n?n.registerFlag?e:t(oe,{to:"/register",state:{from:r.pathname},replace:!0}):t(oe,{to:"/login",state:{from:r.pathname},replace:!0})}const b=Ft.create({timeout:15e3,baseURL:"https://admin.huilaixue.cn/fc"});b.interceptors.request.use(e=>{const n=Date.now(),r=kt(se(n).format("YYYY-MM-DD HH:mm:ss")),o=F.getAccessToken();return e.headers.mac=r,o&&(e.headers["x-Authorization"]=o),e});b.interceptors.response.use(e=>{const{data:n}=e;return Object.prototype.hasOwnProperty.call(n,"respResult")&&n.respResult==="success"?n.respBody:Promise.reject(n)},e=>{var r,o,a;const n=((o=(r=e.response)==null?void 0:r.data)==null?void 0:o.message)||e.message;return((a=e.response)==null?void 0:a.status)===401&&F.clear(),Y(n,{variant:"error"}),Promise.reject(new Error(`:( ${n}`))});function Yn(e){return b.post("/login/sendSms",e)}function Hn(e){return Object.prototype.hasOwnProperty.call(e,"phone")?b.post("/login/sms",e):b.post("/login/username",e)}function Gn(e){const n={...e,grade:"13",deptId:29};return b.post("/student/register",n).then(()=>({...n,registerFlag:1}))}function Kn(e){return b.post("/student/changePwd",e)}function Qn(e){return b.post("/wx/share",e,{headers:{"Content-Type":"text/plain"}})}async function Zn(){const e=window.location.href.split("#")[0],n=await Qn(e),{appId:r,timestamp:o,noncestr:a,signature:s,inviteCode:i}=n,u=`${e}?inviteCode=${i}`;wx.config({appId:r,signature:s,nonceStr:a,timestamp:+o,jsApiList:["updateAppMessageShareData","updateTimelineShareData"]}),wx.ready(()=>{wx.updateAppMessageShareData({link:u,title:n.title||"\u6167\u6765\u5B66",desc:n.des||"\u6167\u6765\u5B66\u63CF\u8FF0",imgUrl:n.imgUrl||""}),wx.updateTimelineShareData({link:u,title:n.title||"\u6167\u6765\u5B66",imgUrl:n.imgUrl||""})})}function Jn(){return c.exports.useEffect(()=>{Zn()},[]),t(ge,{})}var nt="/assets/login-bg.c70c5da9.png",Xn="/assets/login-logo.865ad1b8.png";const rt=new Dt({defaultOptions:{queries:{staleTime:1*60*1e3,refetchOnMount:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1,refetchInterval:!1,retry:!1}}});function _n({login:e,isLoading:n}){var s,i;const{register:r,handleSubmit:o,formState:{errors:a}}=xe({defaultValues:{username:"13607148408",pass:"123456"}});return d(x,{component:"form",noValidate:!0,onSubmit:o(e),children:[t(w,{margin:"normal",variant:"standard",required:!0,fullWidth:!0,label:"\u624B\u673A\u53F7",autoComplete:"tel",autoFocus:!0,helperText:(s=a.username)==null?void 0:s.message,error:!!a.username,...r("username",{required:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7"})}),t(w,{margin:"normal",variant:"standard",required:!0,fullWidth:!0,label:"\u5BC6\u7801",type:"password",autoComplete:"current-password",error:!!a.pass,helperText:(i=a.pass)==null?void 0:i.message,...r("pass",{required:"\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A"})}),t(Q,{sx:{mt:2},variant:"contained",fullWidth:!0,type:"submit",loadingPosition:"start",startIcon:t(Pe,{}),loading:n,children:"\u767B\u5F55"})]})}function er({onEnd:e}){const[n,r]=c.exports.useState(60);return c.exports.useEffect(()=>{n===0&&e()},[n,e]),c.exports.useEffect(()=>{const o=window.setInterval(()=>{r(a=>a-1)},1e3);return()=>{window.clearInterval(o)}},[]),t("span",{children:`${n}\u79D2\u540E\u53EF\u91CD\u53D1`})}function at({onSend:e,...n}){const[r,o]=c.exports.useState(0);return t(H,{disabled:r===1,onClick:async()=>{await e()&&o(1)},size:"medium",variant:"text",...n,children:r===1?t(er,{onEnd:()=>o(2)}):`${r===2?"\u91CD\u65B0":""}\u83B7\u53D6\u9A8C\u8BC1\u7801`})}function tr({login:e,isLoading:n}){var p,h;const{trigger:r,getValues:o,register:a,handleSubmit:s,formState:{errors:i}}=xe({mode:"onChange"}),u=async()=>await r("phone",{shouldFocus:!0})?(await Yn({phone:o("phone")}),!0):!1;return d(x,{component:"form",noValidate:!0,onSubmit:s(e),children:[t(w,{margin:"normal",variant:"standard",required:!0,fullWidth:!0,label:"\u624B\u673A\u53F7",autoComplete:"tel",autoFocus:!0,helperText:(p=i.phone)==null?void 0:p.message,error:!!i.phone,...a("phone",{required:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7"})}),t(w,{margin:"normal",variant:"standard",required:!0,fullWidth:!0,label:"\u9A8C\u8BC1\u7801",autoComplete:"off",InputProps:{endAdornment:t(He,{position:"end",children:t(at,{onSend:u})})},error:!!i.code,helperText:(h=i.code)==null?void 0:h.message,...a("code",{required:"\u9A8C\u8BC1\u7801\u4E0D\u80FD\u4E3A\u7A7A"})}),t(Q,{sx:{mt:2},variant:"contained",fullWidth:!0,type:"submit",loadingPosition:"start",startIcon:t(Pe,{}),loading:n,children:"\u767B\u5F55"})]})}function nr(){const[e,n]=c.exports.useState(0),r=j(),o=T(),a=P(Hn,{onSuccess(s){var u;F.set(s),rt.clear();const i=((u=o.state)==null?void 0:u.from)||"/";r(i,{replace:!0})}});return t(x,{sx:s=>({display:"flex",height:"100%",alignItems:"flex-start",backgroundImage:`url("${nt}")`,backgroundSize:"cover",backgroundColor:"#fff",[s.breakpoints.down(444)]:{backgroundImage:"none"}}),children:d(ie,{maxWidth:"xs",sx:{display:"flex",flexDirection:"column",py:4,mt:12,backgroundColor:"#fff"},children:[t(x,{sx:{display:"flex",justifyContent:"center",mb:3},children:t("img",{style:{width:"85%"},src:Xn,alt:""})}),d(ye,{value:e,onChange:(s,i)=>n(i),children:[t(G,{label:"\u5BC6\u7801\u767B\u5F55",value:0}),t(G,{label:"\u9A8C\u8BC1\u7801\u767B\u5F55",value:1})]}),e===0&&t(_n,{login:a.mutate,isLoading:a.isLoading}),e===1&&t(tr,{login:a.mutate,isLoading:a.isLoading})]})})}var rr="/assets/logo.cb9b9edb.png";function ar(e){return b.post("/student/sendUnbindSms",{id:e})}function or(e){return b.post("/student/unbind",e)}async function sr({id:e,code:n,deptId:r}){return await or({id:e,code:n}),b.post("/student/rebind",{id:e,deptId:r})}function ir(){var e;return b.post("/common/org/search",{grade:((e=F.getUser())==null?void 0:e.grade)||"13"})}function Ae({title:e="",open:n,children:r,onClose:o,onConfirm:a,confirmButtonProps:s,confirmLoading:i=!1,cancelButtonText:u="\u53D6\u6D88",confirmButtonText:p="\u786E\u5B9A",...h}){return d(It,{fullWidth:!0,maxWidth:"sm",...h,open:n,onClose:o,children:[d(Tt,{children:[e,t(z,{"aria-label":"close",onClick:o,sx:{position:"absolute",right:8,top:8,color:l=>l.palette.grey[500]},children:t(Pt,{})})]}),t(Lt,{children:r}),d(Nt,{disableSpacing:!0,sx:{py:1},children:[t(H,{onClick:o,children:u}),a&&t(Q,{loading:i,onClick:a,...s,children:p})]})]})}function ur(e){const n=Z(),[r,o]=c.exports.useState(n.deptId),[a,s]=c.exports.useState(""),i=L(["dept"],()=>ir()),u=async()=>{try{return await ar(n.id),!0}catch{return!1}},p=P(sr),h=async()=>{await p.mutateAsync({id:n.id,deptId:r,code:a}),e.onClose(),s(""),F.updateUser({deptId:r}),Y("\u7ED1\u5B9A\u6210\u529F",{variant:"success"})};return d(Ae,{...e,confirmLoading:p.isLoading,onConfirm:h,maxWidth:"xs",confirmButtonProps:{disabled:!a||!r},children:[t(w,{id:"standard-select-currency",required:!0,select:!0,label:"\u9009\u62E9\u90E8\u95E8",fullWidth:!0,variant:"standard",value:r,onChange:l=>{o(l.target.value)},children:(i.data||[]).map(l=>t(ae,{value:l.value,children:l.label},l.value))}),t(w,{margin:"normal",variant:"standard",required:!0,fullWidth:!0,label:"\u9A8C\u8BC1\u7801",autoComplete:"off",value:a,onChange:l=>s(l.target.value),helperText:`\u5411${n.phone.replace(/^(\d{3})(\d{4})/,"$1****")}\u7684\u624B\u673A\u53D1\u9001\u9A8C\u8BC1\u7801`,InputProps:{endAdornment:t(He,{position:"end",children:t(at,{onSend:u})})}})]})}function lr(e){var p,h,l;const n=Z(),{register:r,handleSubmit:o,getValues:a,formState:{errors:s}}=xe(),i=P(Kn),u=async f=>{const{newPassConfirm:m,...g}=f;await i.mutateAsync({...g,id:n.id,username:n.username}),Y("\u4FEE\u6539\u6210\u529F",{variant:"success"}),F.clear()};return t(Ae,{...e,title:"\u4FEE\u6539\u5BC6\u7801",confirmLoading:i.isLoading,onConfirm:o(u),maxWidth:"xs",children:d(x,{component:"form",noValidate:!0,children:[t(w,{margin:"normal",variant:"standard",required:!0,fullWidth:!0,label:"\u539F\u59CB\u5BC6\u7801",autoComplete:"tel",autoFocus:!0,helperText:(p=s.pass)==null?void 0:p.message,error:!!s.pass,...r("pass",{required:"\u539F\u59CB\u79D8\u5BC6\u4E0D\u80FD\u4E3A\u7A7A"})}),t(w,{margin:"normal",variant:"standard",required:!0,fullWidth:!0,label:"\u65B0\u5BC6\u7801",type:"password",autoComplete:"current-password",error:!!s.newPass,helperText:(h=s.newPass)==null?void 0:h.message,...r("newPass",{required:"\u65B0\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A"})}),t(w,{margin:"normal",variant:"standard",required:!0,fullWidth:!0,label:"\u786E\u8BA4\u5BC6\u7801",type:"password",autoComplete:"current-password",error:!!s.newPassConfirm,helperText:(l=s.newPassConfirm)==null?void 0:l.message,...r("newPassConfirm",{required:"\u786E\u8BA4\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A",validate:{same:f=>{const m=a("newPass");return f!==m?"\u786E\u8BA4\u5BC6\u7801\u548C\u65B0\u5BC6\u7801\u4E0D\u4E00\u81F4":""}}})})]})})}function cr(){return b.post("/common/message/count",{})}function dr(e={page:0,size:10}){return b.post("/common/message/search",{...e,params:{title:"",newsContent:"",receiver:3}}).then(n=>{const{totalElements:r}=n,o=Math.ceil(r/e.size);return{...n,...e,totalPages:o}})}function ot({children:e}){var r;const n=L(["messageCount"],()=>cr());return t(Mt,{badgeContent:(r=n.data)!=null?r:0,color:"primary",children:e})}function pr({children:e}){const n=Z(),r=j(),[o,a]=c.exports.useState(null),s=g=>{a(g.currentTarget)},i=()=>{a(null)},u=()=>{r("message")},[p,h]=c.exports.useState(!1),[l,f]=c.exports.useState(!1),m="\u9009\u62E9\u90E8\u95E8";return t(Wt,{position:"static",sx:{background:"linear-gradient(90deg, #ff630f, #ff870f)",position:"relative",zIndex:1},children:d(Rt,{children:[e,t(Ge,{href:"/",sx:{flex:"0 1 198px",height:"45px",backgroundImage:`url("${rr}")`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"left center"}}),t("span",{style:{flex:"1 1 0%"}}),t(z,{size:"large",color:"inherit",onClick:u,children:t(ot,{children:t(zt,{})})}),t(z,{size:"large",sx:{p:0,ml:"12px"},onClick:s,color:"inherit",children:t(be,{children:n.realName[0]})}),d(Ut,{anchorEl:o,anchorOrigin:{vertical:"bottom",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(o),onClose:i,children:[t(ae,{dense:!0,children:n.username}),t(ae,{dense:!0,onClick:()=>h(!0),children:m}),t(ae,{dense:!0,onClick:()=>f(!0),children:"\u4FEE\u6539\u5BC6\u7801"}),t(jt,{}),t(ae,{dense:!0,onClick:()=>F.clear(),children:"\u9000\u51FA"})]}),t(ur,{title:m,open:p,onClose:()=>h(!1)}),t(lr,{open:l,onClose:()=>f(!1)})]})})}const hr=[{key:"/alltextbook",label:"\u514D\u8D39\u8BFE\u7A0B",icon:t(qt,{})},{key:"/textbook",label:"\u5DF2\u62A5\u8BFE\u7A0B",icon:t(Vt,{})},{key:"/history",label:"\u5B66\u4E60\u8BB0\u5F55",icon:t(ze,{})},{key:"/exams",label:"\u73B0\u5728\u6D4B\u8BD5",icon:t(Ot,{})},{key:"/recordExam",label:"\u6D4B\u8BD5\u8BB0\u5F55",icon:t($t,{})},{key:"/feedback",label:"\u5E08\u751F\u4E92\u52A8",icon:t(ze,{})},{key:"/message",label:t(ot,{children:"\u7CFB\u7EDF\u901A\u77E5"}),icon:t(Yt,{})}];function Ve({onClick:e}){const n=T(),r=j(),o=s=>{r(s.key),e==null||e()},a=n.pathname;return t(q,{sx:{width:240,px:2},component:"nav",children:hr.map(s=>t(V,{disablePadding:!0,children:d(Ce,{selected:a===s.key,onClick:()=>o(s),sx:i=>({"&.Mui-selected":{color:i.palette.primary.main,backgroundColor:"transparent"}}),children:[t(Le,{sx:{minWidth:35,color:"inherit"},children:s.icon}),t(O,{primary:s.label})]})},s.key))})}function fr(){const e=Ke(),n=Qe(e.breakpoints.down("sm")),[r,o]=c.exports.useState(!1);return d(x,{sx:{display:"flex",flexDirection:"column",height:"100%"},children:[t(pr,{children:n&&t(z,{color:"inherit",edge:"start",onClick:()=>o(!r),sx:{display:{sm:"none"}},children:t(Ht,{})})}),d(x,{sx:{display:"flex",flex:1,overflow:"hidden"},children:[n?t(Ue,{variant:"temporary",open:r,onClose:()=>o(!1),ModalProps:{keepMounted:!0},children:t(Ve,{onClick:()=>o(!1)})}):t(Ue,{variant:"permanent",PaperProps:{sx:{position:"relative",zIndex:0}},open:!0,children:t(Ve,{})}),t(ge,{})]})]})}var U=(e=>(e.Chinese="001001",e.English="001002",e))(U||{});function mr(e){return b.post("/study/textbook",{...e,authType:"2"})}function gr(e="001002"){return b.post("/study/authtextbook",{subType:e})}function xr(e){return b.post("/study/textbook/unit",{id:e})}function yr(e){return b.post("/study/textbook/step",e)}const br=e=>c.exports.createElement("svg",{width:160,height:160,viewBox:"0 0 160 160",...e},c.exports.createElement("defs",null,c.exports.createElement("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:"van-empty-5"},c.exports.createElement("stop",{stopColor:"#F2F3F5",offset:"0%"}),c.exports.createElement("stop",{stopColor:"#DCDEE0",offset:"100%"})),c.exports.createElement("linearGradient",{x1:"95%",y1:"48%",x2:"5.5%",y2:"51%",id:"van-empty-6"},c.exports.createElement("stop",{stopColor:"#EAEDF1",offset:"0%"}),c.exports.createElement("stop",{stopColor:"#DCDEE0",offset:"100%"})),c.exports.createElement("linearGradient",{y1:"45%",x2:"100%",y2:"54%",id:"van-empty-7"},c.exports.createElement("stop",{stopColor:"#EAEDF1",offset:"0%"}),c.exports.createElement("stop",{stopColor:"#DCDEE0",offset:"100%"}))),c.exports.createElement("defs",null,c.exports.createElement("linearGradient",{id:"van-empty-a",x1:"64%",y1:"100%",x2:"64%"},c.exports.createElement("stop",{stopColor:"#FFF",offset:"0%",stopOpacity:.5}),c.exports.createElement("stop",{stopColor:"#F2F3F5",offset:"100%"}))),c.exports.createElement("g",{opacity:.8},c.exports.createElement("path",{d:"M36 131V53H16v20H2v58h34z",fill:"url(#van-empty-a)"}),c.exports.createElement("path",{d:"M123 15h22v14h9v77h-31V15z",fill:"url(#van-empty-a)"})),c.exports.createElement("defs",null,c.exports.createElement("linearGradient",{id:"van-empty-b",x1:"64%",y1:"97%",x2:"64%",y2:"0%"},c.exports.createElement("stop",{stopColor:"#F2F3F5",offset:"0%",stopOpacity:.3}),c.exports.createElement("stop",{stopColor:"#F2F3F5",offset:"100%"}))),c.exports.createElement("g",{opacity:.8},c.exports.createElement("path",{d:"M87 6c3 0 7 3 8 6a8 8 0 1 1-1 16H80a7 7 0 0 1-8-6c0-4 3-7 6-7 0-5 4-9 9-9Z",fill:"url(#van-empty-b)"}),c.exports.createElement("path",{d:"M19 23c2 0 3 1 4 3 2 0 4 2 4 4a4 4 0 0 1-4 3v1h-7v-1l-1 1c-2 0-3-2-3-4 0-1 1-3 3-3 0-2 2-4 4-4Z",fill:"url(#van-empty-b)"})),c.exports.createElement("g",{transform:"translate(36 50)",fill:"none"},c.exports.createElement("g",{transform:"translate(8)"},c.exports.createElement("rect",{fill:"#EBEDF0",opacity:.6,x:38,y:13,width:36,height:53,rx:2}),c.exports.createElement("rect",{fill:"url(#van-empty-5)",width:64,height:66,rx:2}),c.exports.createElement("rect",{fill:"#FFF",x:6,y:6,width:52,height:55,rx:1}),c.exports.createElement("g",{transform:"translate(15 17)",fill:"url(#van-empty-6)"},c.exports.createElement("rect",{width:34,height:6,rx:1}),c.exports.createElement("path",{d:"M0 14h34v6H0z"}),c.exports.createElement("rect",{y:28,width:34,height:6,rx:1}))),c.exports.createElement("rect",{fill:"url(#van-empty-7)",y:61,width:88,height:28,rx:1}),c.exports.createElement("rect",{fill:"#F7F8FA",x:29,y:72,width:30,height:6,rx:1})));function st({sx:e}){return d(x,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",...e},children:[t(br,{}),t(v,{variant:"caption",color:"#969799",children:"\u6682\u65E0\u6570\u636E"})]})}function it({error:e,sx:n}){return t(x,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",...n},children:t(v,{variant:"body1",color:"error",children:e.message||"\u52A0\u8F7D\u5931\u8D25"})})}const Cr=e=>e===void 0||Array.isArray(e)&&e.length===0;function Er(){return t(Gt,{in:!0,children:t(x,{sx:{display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",top:0,left:0,width:"100%",height:"100%"},children:t(Ne,{})})})}function J(e){const{error:n,isLoading:r,isSuccess:o,children:a,data:s,sx:i,loading:u=t(Er,{})}=e,p=c.exports.useRef(),[h,l]=c.exports.useState(!1);c.exports.useLayoutEffect(()=>(r?p.current=window.setTimeout(()=>{l(!0)},100):(window.clearTimeout(p.current),l(!1)),()=>{window.clearTimeout(p.current)}),[r]);const f=e.isEmpty===void 0?Cr(s):e.isEmpty;let m=a;return n?m=t(it,{error:n}):o&&f&&(m=t(st,{})),d(x,{sx:{position:"relative",minHeight:100,opacity:h?.5:void 0,...i},children:[m,h&&u]})}function Br({replaceBreadcrumbs:e}){const n=T();let r=(Kt(vt,n)||[]).filter(a=>a.route.breadcrumbName).map(a=>({name:a.route.breadcrumbName,path:a.pathname}));e&&(r=e(r));const o=r.map((a,s)=>s!==r.length-1?t(Ge,{underline:"hover",color:"inherit",href:a.path,children:a.name},a.path):t(v,{variant:"h6",fontSize:"1rem",color:"text.primary",children:a.name},a.path));return t(Qt,{"aria-label":"breadcrumb",children:o})}function $({children:e,action:n,contentStyle:r,...o}){return d(x,{sx:{display:"flex",flexDirection:"column",flex:1,overflowX:"hidden"},children:[d(x,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",p:2,borderBottomColor:"divider",borderBottomWidth:1,borderBottomStyle:"solid"},children:[t(Br,{...o}),n]}),t(x,{sx:{display:"flex",flexDirection:"column",flex:1,overflow:"auto",...r},children:e})]})}function Se(){const[e,n]=Ze();return[e.get("type")||U.English,a=>{n({type:a})}]}function ut(){const[e,n]=Se();return d(ye,{variant:"scrollable",value:e,onChange:(o,a)=>{n(a)},children:[t(G,{label:"\u82F1\u8BED\u8BFE\u7A0B",value:U.English}),t(G,{label:"\u6C49\u8BED\u8BFE\u7A0B",value:U.Chinese})]})}function lt({data:e}){const[n]=Se(),r=T();return t(q,{children:e.map((o,a)=>t(V,{divider:a!==e.length-1,disablePadding:!0,children:d(Ce,{component:Ee,to:`${r.pathname}/${n}/${o.id}`,state:{title:o.label},children:[t(Me,{children:t(be,{variant:"square",src:o.imageUrl})}),t(O,{primary:d(k,{children:[o.label,t(v,{sx:{display:"inline",marginLeft:"0.5em"},component:"span",color:"text.secondary",children:`(\u5171 ${o.totalUnit} \u5355\u5143)`})]}),secondary:o.desc})]})},o.id))})}function vr(){var o;const[e]=Se(),n=L(["owntextbooks",e],()=>gr(e)),r=((o=n.data)==null?void 0:o.textBooks)||[];return d($,{children:[t(ut,{}),t(J,{sx:{flex:1,overflow:"auto"},isEmpty:r.length===0,...n,children:t(lt,{data:r})})]})}function Ar(){var h,l;const[e]=Se(),[n,r]=c.exports.useState(0),o=(f,m)=>{r(m-1)},a=10,s=L(["alltextbooks",e,n],()=>mr({subType:e,page:n,size:a})),i=((h=s.data)==null?void 0:h.content)||[],u=((l=s.data)==null?void 0:l.totalElements)||0,p=Math.floor(u/a)||1;return d($,{children:[t(ut,{}),t(J,{sx:{flex:1,overflow:"auto"},isEmpty:i.length===0,...s,children:t(lt,{data:i})}),t(Zt,{sx:{display:"flex",justifyContent:"flex-end",m:1},color:"primary",variant:"outlined",shape:"rounded",count:p,page:n+1,onChange:o})]})}function ct(e){return typeof e=="object"&&e!==null}function dt(e){return new Promise(n=>{const r=new FileReader;r.onload=()=>n(r.result),r.readAsDataURL(e)})}function we(e,n){const r=o=>o.replace(/[\p{P}]/gu,"").replace(/\s+/g,"");return r(e)===r(n)}function pt(e){let n=Math.floor(e/60);const r=Math.floor(n/60);n%=60;const o=e%60;return r?`${r}\u65F6${n}\u5206`:n?`${n}\u5206${o}\u79D2`:`${o}\u79D2`}function Sr(){const e=T(),n=j(),{textbookId:r,unitId:o,type:a}=N(),s=e.pathname.match(/^\/\w+/)[0],i=()=>[{path:`${s}?type=${a}`,name:s==="/textbook"?"\u5DF2\u62A5\u8BFE\u7A0B":"\u514D\u8D39\u8BFE\u7A0B"},{path:e.pathname,name:ct(e.state)?e.state.title:""}],p=L(["textbook",r],()=>xr(r)).data||[],h=c.exports.useCallback(l=>{n(`unit/${l}`,{replace:!0,state:e.state})},[]);return c.exports.useEffect(()=>{if(!o&&p.length){const l=p.find(f=>f.selected==="1")||p[0];h(l.id)}},[o,p]),d($,{replaceBreadcrumbs:i,children:[t(ye,{variant:"scrollable",value:o||!1,onChange:(l,f)=>{f&&h(f)},children:p.map(l=>{const f=l.enabled==="0";return t(G,{value:f?"":l.id,sx:f?{color:"rgba(0,0,0,0.38)",cursor:"not-allowed"}:{},label:f?t(Jt,{title:"\u8BE5\u8BFE\u7A0B\u672A\u6388\u6743",placement:"top-start",children:t("span",{children:l.title})}):l.title},l.id)})}),t(ge,{})]})}var S=(e=>(e.Audio="002001",e.Video="002002",e.Image="002003",e))(S||{}),A=(e=>(e.Reading="005006",e.WriteWord="005001",e.WriteSentenceByAudio="005015",e.WriteSentenceByTranslation="005018",e.WriteFullText="005020",e.SortSentence="005009",e.SortTranslation="005010",e.SortSentenceByAudio="005008",e.SortWordByAudio="005007",e.SortWordByTranslation="005022",e.Selection="005005",e.SelectionByAudio="005002",e.SelectionByContent="005004",e.SelectionImageByAudio="005003",e.SpeakingByTranslation="005017",e.SpeakingByImage="005012",e.SpeakingByContent="005011",e.SpeakingByFullword="005019",e.SpeakingRepeat="005016",e))(A||{});function wr(e){return b.post("/study/info/search",e)}function Fr(e){return b.post("/study/confirm",e)}function ht({language:e,id:n,audioBase64:r,type:o}){return e=e===U.English?"en_us":"zh-cn",r=r.replace(/^data:audio\/.*;base64,/,""),b.post(`/study/check/${o}`,{language:e,audioBase64:r,id:n})}function kr({value:e="",...n}){return d("div",{style:{display:"inline",position:"relative",margin:"0 4px",borderBottom:"1px solid #ff870f"},children:[t("span",{style:{display:"inline-block",visibility:"hidden",minWidth:"60px"},children:e||"\u6D4B\u8BD5"}),t("input",{...n,value:e,style:{position:"absolute",left:0,top:-1,width:"100%",height:"100%",padding:"0 0",border:0,outline:0,font:"inherit",fontSize:"inherit",color:"currentcolor",lineHeight:"inherit",zIndex:1}})]})}function ft({content:e,value:n,onChange:r}){const o=i=>u=>{const p=n.slice();p[i]=u.target.value,r(p)};let a=-1;const s=e.split(/\n/g).map((i,u)=>{const p=Je(i,"#",()=>(a+=1,t(kr,{value:n[a],onChange:o(a)})));return t(v,{variant:"study",marginBottom:1,children:p},u)});return t("div",{children:s})}function mt({title:e,primary:n}){const r=j();return t(x,{sx:{py:1,...n?{backgroundColor:"primary.main",color:"#fff"}:{borderBottom:1,borderColor:"divider"}},children:d(ie,{maxWidth:"lg",sx:{position:"relative",display:"flex",alignItems:"center"},children:[t(z,{onClick:()=>r(-1),sx:{position:"absolute",color:"inherit",left:2},children:t(Xt,{})}),t(v,{variant:"h6",sx:{flex:1,textAlign:"center"},children:e})]})})}const Dr=K.forwardRef(function(n,r){return t(_t,{direction:"up",ref:r,...n})});function gt(e){const n=Ke(),r=Qe(n.breakpoints.down("md"));return t(Ae,{TransitionComponent:Dr,fullScreen:r,...e})}function Ir(){const{textbookId:e,unitId:n}=N(),r=L(["unit",e,n],()=>yr({textbookId:e,unitId:n}),{enabled:!!n}),o=r.data||[];return d(k,{children:[t(J,{sx:{flex:1,overflow:"auto"},...r,children:t(q,{children:o.map(a=>{const s=a.finished==="0";return t(V,{disablePadding:!0,children:d(Ce,{component:Ee,to:me({stepId:a.stepNum,stepValue:a.stepValue}),disabled:s,children:[t(Le,{sx:{minWidth:0,mr:1.5},children:s?t(tn,{}):t(nn,{sx:{color:"primary.main"}})}),t(O,{primary:a.title})]})},a.stepNum+a.stepValue)})})}),t(ge,{context:o})]})}function xt(){return en()}const Tr=()=>{};function M({title:e,tips:n,isLoading:r=!1,isWrong:o=!1,onRight:a,onCancel:s,onConfirm:i,confirmProps:u,cancelText:p="\u4E0A\u4E00\u6B65",confirmText:h="\u786E\u5B9A",children:l,footer:f}){const m=xt(),{stepId:g}=N(),E=m.find(B=>String(B.stepNum)===g),y=E?E.title:e;return d(Xe,{sx:{display:"flex",height:"100%",flexDirection:"column"},children:[t(mt,{primary:!0,title:y}),t(ie,{maxWidth:"lg",sx:{flex:1,overflow:"auto",py:4},children:l}),t(Be,{p:2,spacing:2,direction:"row",justifyContent:"center",alignItems:"center",flexWrap:"wrap",children:d(k,{children:[f,t(Q,{loading:r,size:"large",variant:"contained",onClick:i,...u,children:h}),s&&t(H,{size:"large",variant:"outlined",onClick:s,children:p})]})}),n&&t(gt,{title:"\u63D0\u793A",cancelButtonText:"\u77E5\u9053\u4E86",open:o,onClose:a||Tr,children:n})]})}function yt({data:e,reset:n}){const[r,o]=c.exports.useState(0),a=e[r],s=()=>{const h=r+1;o(h),n==null||n(e[h])},i=()=>{const h=r-1;o(h),n==null||n(e[h])},u=r===0,p=r===e.length-1;return{current:a,next:s,previous:i,isFirst:u,isLast:p,setIndex:o,index:r}}function Pr(){const{textbookId:e,unitId:n,stepId:r,stepValue:o}=N(),a=xt(),s=j(),i=T(),u=c.exports.useRef(0);c.exports.useEffect(()=>{u.current=Date.now()},[]);const{mutate:p,isLoading:h}=P(Fr,{async onSuccess(){try{const f=a.findIndex(m=>m.stepNum===r);if(f!==a.length-1){const m=a[f+1],g=i.pathname.replace(me({stepId:r,stepValue:o}),me({stepId:m.stepNum,stepValue:m.stepValue}));s(g,{replace:!0})}else s(-1)}catch{s(-1)}}});return{submit:()=>{const f=Date.now(),m=Math.round((f-u.current)/1e3);p({textbookId:e,unitId:n,stepNum:r,stepValue:o,studyTime:m,startTime:se(u.current).format("YYYY-MM-DD HH:mm:ss"),endTime:se(f).format("YYYY-MM-DD HH:mm:ss")})},isLoading:h}}function W({data:e,reset:n,needRestart:r=!0,validateText:o="\u8BF7\u731C\u7740\u7B54\u5B8C\u5404\u4E2A\u95EE\u9898",validate:a=()=>!1,resetOnWrong:s=!0,isCorrect:i}){const[u,p]=c.exports.useState(!1),[h,l]=c.exports.useState([]),[f,m]=c.exports.useState([]),{current:g,isLast:E,next:y,setIndex:B}=yt({data:h.length?h:e,reset:n}),{submit:C,isLoading:D}=Pr();return{current:g,isLoading:D,onConfirm:async()=>{if(a(g)){Y(o,{variant:"warning",autoHideDuration:2e3});return}const le=await(i||(()=>!0))(g);typeof i=="function"&&(le?Y("\u6B63\u786E",{variant:"success"}):Y("\u9519\u8BEF",{variant:"error"})),le?E?f.length?(B(0),n==null||n(g),l(f),m([])):C():y():(s&&(n==null||n(g)),p(!0),r&&!f.includes(g)&&m([...f,g]))},isWrong:u,onRight:()=>p(!1)}}function ue({attach:e,defaultIndex:n=0}){var E;const r=c.exports.useRef(null),o=c.exports.useRef(null),a=c.exports.useRef(null),s=(Array.isArray(e)?e:[e]).filter(Boolean),i=s.find(y=>y.attachType===S.Image),u=s.find(y=>y.attachType===S.Audio),p=s.find(y=>y.attachType===S.Video),[h,l]=c.exports.useState((E=s[n])==null?void 0:E.attachType),f=y=>{if(y===h){l(void 0);return}l(y),(y===S.Image||y===S.Video)&&te.isEnabled&&(y===S.Image?te.request(r.current):te.request(a.current))},m=y=>{const{target:B}=y;te.isEnabled&&te.toggle(B)},g=s.length<=1&&n>=0;return d(x,{children:[!g&&d(Be,{direction:"row",spacing:2,justifyContent:"center",children:[i&&t(z,{size:"large",color:h===S.Image?"primary":"default",onClick:()=>f(S.Image),children:t(rn,{fontSize:"inherit"})}),u&&t(z,{size:"large",color:h===S.Audio?"primary":"default",onClick:()=>f(S.Audio),children:t(an,{fontSize:"inherit"})}),p&&t(z,{size:"large",color:h===S.Video?"primary":"default",onClick:()=>f(S.Video),children:t(on,{fontSize:"inherit"})})]}),d(x,{sx:{mb:h?1:0},display:"flex",justifyContent:g?"start":"center",children:[i&&t("img",{style:{display:h===S.Image?"block":"none",maxWidth:300},alt:"study",ref:r,src:i.attachUrl,onClick:m}),u&&t("audio",{ref:o,style:{display:h===S.Audio?"block":"none"},controls:!0,src:u.attachUrl}),p&&t("video",{ref:a,style:{display:h===S.Video?"block":"none"},controls:!0,src:p.attachUrl})]})]})}function bt({content:e,attach:n}){return d(x,{children:[n&&t(ue,{attach:n}),e&&t(v,{variant:"study",children:e})]})}function X({data:e,mediaId:n="id",baseKey:r,defaultIndex:o,mediaFirst:a=!1}){const s=Array.isArray(r)?r:[r],i=s.filter(l=>!/Attach/.test(String(l))),u=s.filter(l=>/Attach/.test(String(l))),p=i.map(l=>{const f=e[l];return typeof f=="string"?t(v,{variant:"study",mb:1,children:Je(f.replace(/_/g," "),"#",()=>t(x,{sx:{display:"inline-flex",width:"2em",height:"1em",borderBottom:"1px solid",borderBottomColor:"primary.main"}}))},String(l)):null}),h=u.length?t(ue,{attach:u.map(l=>e[l]),defaultIndex:o},e[n]):null;return a?d(k,{children:[h,p]}):d(k,{children:[p,h]})}function Lr({data:e,title:n}){const[r,o]=c.exports.useState([]),a=()=>o([]),{current:s,...i}=W({data:e,reset:a,validate:u=>r.length!==u.answer.split("|").length,isCorrect:u=>we(r.join("|"),u.answer)});return d(M,{tips:t(bt,{...s.tips}),title:n,...i,children:[t(X,{data:s,baseKey:["imageAttach","audioAttach","videoAttach"]}),t(ft,{content:s.content,value:r,onChange:o})]})}function Fe({current:e}){const n=[{key:"translation",icon:t(sn,{fontSize:"inherit"}),text:e.translation},{key:"content",icon:t(un,{fontSize:"inherit"}),text:e.content.replace(/_/g," ")},{key:"analysis",icon:t(ln,{fontSize:"inherit"}),text:e.analysis}];return d(k,{children:[t(ue,{defaultIndex:-1,attach:[e.imageAttach,e.audioAttach,e.videoAttach]},e.id),t(q,{children:n.map(r=>d(V,{alignItems:"flex-start",children:[t(Le,{sx:{color:"primary.main",typography:"study"},children:r.icon}),t(O,{primary:r.text,primaryTypographyProps:{variant:"study",component:"p"}})]},r.key))})]})}function Nr({data:e,title:n}){const{current:r,...o}=W({data:e});return t(M,{title:n,...o,children:t(Fe,{current:r})})}function Mr({item:e,renderItem:n}){const{setNodeRef:r,attributes:o,listeners:a,transform:s,transition:i}=cn({id:e.id}),u={touchAction:"none",cursor:"grab",transform:s?`translate3d(${s.x}px, ${s.y}px, 0)`:void 0,transition:i};return n({setNodeRef:r,attributes:o,listeners:a,style:u,item:e})}function Wr({items:e,setItems:n,renderItem:r,strategy:o}){const a=dn(je(xn),je(gn,{coordinateGetter:mn}));return t(pn,{sensors:a,collisionDetection:hn,onDragEnd:i=>{const{active:u,over:p}=i;if(p&&u.id!==p.id){const h=e.findIndex(f=>f.id===u.id),l=e.findIndex(f=>f.id===p.id);n(yn(e,h,l))}},children:t(fn,{items:e,strategy:o,children:e.map(i=>t(Mr,{item:i,renderItem:r},i.id))})})}function ne({data:e,title:n,baseKey:r,vertical:o=!1}){const[a,s]=c.exports.useState(null),i=()=>s(null),u=o===!1,{current:p,...h}=W({data:e,reset:i,needRestart:u,isCorrect:f=>{const m=f.options.slice().sort((E,y)=>+E.value-+y.value).map(E=>E.content).join(""),g=(a||f.options).map(E=>E.content).join("");return m===g}}),l=a||p.options.map(f=>({id:f.value,content:f.content}));return d(M,{tips:o?void 0:t(Fe,{current:p}),title:n,...h,children:[r&&t(X,{data:p,baseKey:r}),t(x,{sx:{display:"flex",flexWrap:"wrap",flexDirection:o?"column":"row"},children:t(Wr,{strategy:o?bn:void 0,items:l,setItems:s,renderItem:({item:f,listeners:m,attributes:g,setNodeRef:E,style:y})=>t(Xe,{variant:"outlined",ref:E,style:y,sx:o?{p:"0.5em",my:1}:{p:"0.5em",mr:"1px"},...m,...g,children:t(v,{variant:"study",children:f.content.replace(/_/g," ")})})})})]})}function Rr({options:e,value:n,onChange:r}){return t(Cn,{children:e.map(o=>t(fe,{control:t(En,{checked:n.indexOf(o.value)!==-1,onChange:()=>{const a=n.slice(),s=a.findIndex(i=>i===o.value);s===-1?a.push(o.value):a.splice(s,1),r(a)}}),label:o.label},o.value))})}function Ct({value:e,onChange:n,options:r}){return t(_e,{value:e,onChange:o=>n(o.target.value),children:r.map(o=>t(fe,{label:o.label,value:o.value,control:t(Ie,{})},o.value))})}function de({data:e,title:n,baseKey:r,multiple:o=!1}){const[a,s]=c.exports.useState(""),i=()=>s(""),{current:u,...p}=W({data:e,reset:i,validate:()=>a==="",isCorrect:l=>a===l.answer}),h=pe.exports.uniqBy(u.options.map(l=>({label:l.type==="006002"?t("img",{src:l.content,alt:l.content,height:"160"}):l.content,value:l.value})),"value");return d(M,{tips:u.tips&&t(bt,{...u.tips}),title:n,...p,children:[t(X,{mediaFirst:o,data:u,baseKey:r}),o?t(Rr,{value:a?a.split("|"):[],onChange:l=>s(l.sort().join("|")),options:h}):t(Ct,{value:a,onChange:s,options:h})]})}function Oe({data:e,title:n,baseKey:r}){const[o,a]=c.exports.useState(""),s=()=>a(""),{current:i,...u}=W({data:e,reset:s,resetOnWrong:!1,validateText:"\u7B54\u6848\u4E0D\u80FD\u4E3A\u7A7A",validate:()=>o.trim()==="",isCorrect:h=>we(o,h.content)});return d(M,{tips:t(Fe,{current:i}),title:n,...u,children:[t(X,{data:i,baseKey:r}),t(w,{fullWidth:!0,multiline:!0,value:o,onChange:h=>{a(h.target.value)},variant:"standard"})]})}function zr({data:e,title:n}){const[r,o]=c.exports.useState(!1),[a,s]=c.exports.useState(""),i=()=>s(""),{current:u,isLoading:p,onConfirm:h,...l}=W({data:e,reset:i,resetOnWrong:!1,validateText:"\u7B54\u6848\u4E0D\u80FD\u4E3A\u7A7A",validate:()=>a.trim()==="",isCorrect:g=>we(a,g.content)}),f=e.indexOf(u),m=g=>{s(g.target.value)};return t(M,{tips:t(Fe,{current:u}),title:n,isLoading:p,onConfirm:r?h:()=>o(!0),confirmText:r?"\u63D0\u4EA4":"\u77E5\u9053\u4E86",...l,children:r?e.slice(0,f+1).map((g,E)=>E===f?d(v,{component:"div",variant:"study",sx:{display:"flex"},children:[g.character&&d("span",{style:{flexBasis:"120px",textAlign:"right"},children:[g.character,": "]}),t(w,{sx:{flex:1},multiline:!0,value:a,onChange:m,onBlur:h,variant:"standard"})]},g.id):d(v,{sx:{display:"flex"},gutterBottom:!0,variant:"study",children:[g.character&&d("span",{style:{flexBasis:"120px",textAlign:"right"},children:[g.character,": "]}),t("span",{children:g.content})]},g.id)):e.map(g=>d(v,{sx:{display:"flex"},gutterBottom:!0,variant:"study",children:[g.character&&d("span",{style:{flexBasis:"120px",textAlign:"right"},children:[g.character,": "]}),t("span",{children:g.content})]},g.id))})}const re=new Bn({sampleBits:16,sampleRate:16e3,numChannels:1,compiling:!1});function We({url:e,value:n,onChange:r}){const[o,a]=c.exports.useState("inactive"),[s,i]=c.exports.useState(0),[u,p]=c.exports.useState(""),h=c.exports.useRef(),[l]=c.exports.useState(()=>new Audio),f=async()=>{await re.stop();const B=re.getWAVBlob();r(B)},m=()=>{o==="paused"?re.resume():o==="recording"?(f(),a("inactive")):(r(void 0),re.start().then(()=>{a("recording")}))};c.exports.useEffect(()=>()=>{l.pause(),re.destroy()},[]);const g=()=>{u==="play"?l.pause():l.play()};c.exports.useEffect(()=>(o==="recording"?h.current=window.setInterval(()=>{i(B=>B+1)},1e3):o!=="paused"&&i(0),()=>{window.clearInterval(h.current)}),[o]),c.exports.useEffect(()=>{const B=l;if(n){const C=[],D=window.URL.createObjectURL(n);e&&C.push(e),C.push(D);let R=0;const _=pe.exports.debounce(p,50);B.addEventListener("play",()=>{_("play")}),B.addEventListener("pause",()=>{_("pause")}),B.addEventListener("ended",()=>{R=(R+1)%C.length,B.src=C[R],B.play()}),B.loop=!1,B.src=C[R],B.play()}return()=>{B.pause()}},[n,e]);const E=pe.exports.padStart(String(s/60|0),2,"0"),y=pe.exports.padStart(String(s%60),2,"0");return d(k,{children:[t(H,{size:"large",variant:"outlined",startIcon:u==="play"?t(vn,{fontSize:"large"}):t(An,{fontSize:"large"}),disabled:!n,onClick:g,children:u==="play"?"\u6682\u505C":"\u64AD\u653E"}),t(H,{size:"large",variant:"outlined",startIcon:o==="recording"?t(Sn,{fontSize:"large"}):t(wn,{fontSize:"large"}),onClick:m,children:o==="recording"?`${E}:${y}`:n?"\u91CD\u5F55":"\u5F55\u97F3"})]})}function De({data:e,title:n,baseKey:r}){var u;const[o,a]=c.exports.useState(),{current:s,...i}=W({data:e,validateText:"\u8BF7\u5148\u5F55\u97F3",validate:()=>o===void 0,reset:()=>a(void 0)});return t(M,{footer:t(We,{value:o,onChange:a,url:(u=s.audioAttach)==null?void 0:u.attachUrl}),confirmText:"\u8BFB\u7684\u4E0D\u9519",title:n,...i,children:t(X,{mediaFirst:!0,data:s,baseKey:r})})}function Et({audioAttach:e,words:n=[]}){const[r]=c.exports.useState(()=>new Audio),o=a=>{r.pause(),r.loop=!1,r.src=a,r.play()};return c.exports.useEffect(()=>()=>{r.pause()},[]),d(k,{children:[t(ue,{attach:e}),t(v,{gutterBottom:!0,children:n.length>0?"\u70B9\u51FB\u4E0B\u9762\u5404\u8BCD\u64AD\u8BE5\u8BCD\u97F3\u9891":"\u8BED\u97F3\u8BC6\u522B\u672A\u901A\u8FC7"}),t(Be,{direction:"row",children:n.map(a=>t(H,{sx:{minWidth:0},onClick:()=>o(a.audioUrl),variant:"text",children:a.word},a.word))})]})}function Ur({data:e,title:n,baseKey:r}){var m,g;const{type:o,stepValue:a}=N(),[s,i]=c.exports.useState(),u=P(ht),p=async E=>{const y=await dt(s);return(await u.mutateAsync({type:parseInt(a,10),id:E.id,language:o,audioBase64:y})).status==="1"},{current:h,isLoading:l,...f}=W({data:e,validateText:"\u8BF7\u5148\u5F55\u97F3",validate:()=>s===void 0,isCorrect:p});return t(M,{footer:t(We,{onChange:i,value:s,url:(m=h.audioAttach)==null?void 0:m.attachUrl}),confirmProps:{disabled:!s},confirmText:"\u63D0\u4EA4",title:n,isLoading:l||u.isLoading,tips:t(Et,{audioAttach:h.audioAttach,words:(g=u.data)==null?void 0:g.words}),...f,children:t(X,{data:h,baseKey:r})})}function jr({data:e,title:n}){var B;const{type:r,stepValue:o}=N(),[a,s]=c.exports.useState(!1),[i,u]=c.exports.useState(),p=()=>u(void 0),h=P(ht),l=async C=>{const D=await dt(i);return(await h.mutateAsync({type:parseInt(o,10),id:C.id,language:r,audioBase64:D})).status==="1"},{current:f,isLoading:m,onConfirm:g,...E}=W({data:e,reset:p,validateText:"\u8BF7\u5148\u5F55\u97F3",validate:()=>i===void 0,isCorrect:l}),y=e.indexOf(f);return t(M,{tips:t(Et,{audioAttach:f.audioAttach,words:(B=h.data)==null?void 0:B.words}),title:n,confirmProps:{disabled:a&&!i},footer:a?t(We,{value:i,onChange:u},f.id):void 0,isLoading:m||h.isLoading,onConfirm:a?g:()=>s(!0),confirmText:a?"\u63D0\u4EA4":"\u77E5\u9053\u4E86",...E,children:a?e.slice(0,y+1).map((C,D)=>D===y?t(v,{component:"div",variant:"study",sx:{display:"flex"},children:C.character&&d("span",{style:{flexBasis:"120px",textAlign:"right"},children:[C.character,": "]})},C.id):d(v,{sx:{display:"flex"},gutterBottom:!0,variant:"study",children:[C.character&&d("span",{style:{flexBasis:"120px",textAlign:"right"},children:[C.character,": "]}),t("span",{children:C.content})]},C.id)):e.map(C=>d(v,{gutterBottom:!0,sx:{display:"flex"},variant:"study",children:[C.character&&d("span",{style:{flexBasis:"120px",textAlign:"right"},children:[C.character,": "]}),t("span",{children:C.content})]},C.id))})}const $e={[A.Reading]:t(Nr,{title:"\u770B\u548C\u542C",data:[]}),[A.WriteWord]:t(Lr,{title:"\u586B\u7A7A",data:[]}),[A.WriteSentenceByAudio]:t(Oe,{title:"\u53E5\u5B50\u542C\u5199",data:[],baseKey:"audioAttach"}),[A.WriteSentenceByTranslation]:t(Oe,{title:"\u636E\u8BD1\u5199\u6587",data:[],baseKey:"translation"}),[A.WriteFullText]:t(zr,{title:"\u9ED8\u5199",data:[]}),[A.SortSentence]:t(ne,{title:"\u6392\u53E5\u6210\u7BC7",data:[],vertical:!0}),[A.SortTranslation]:t(ne,{title:"\u8BD1\u6587\u6392\u5E8F",data:[],vertical:!0,baseKey:["imageAttach","audioAttach","videoAttach"]}),[A.SortSentenceByAudio]:t(ne,{title:"\u636E\u97F3\u6392\u53E5",data:[],vertical:!0,baseKey:"audioAttach"}),[A.SortWordByAudio]:t(ne,{title:"\u636E\u97F3\u6392\u8BCD",data:[],baseKey:"audioAttach"}),[A.SortWordByTranslation]:t(ne,{title:"\u636E\u8BD1\u6392\u8BCD",data:[],baseKey:"translation"}),[A.Selection]:t(de,{title:"\u5E38\u89C4\u9009\u62E9",data:[],multiple:!0,baseKey:["content","imageAttach","audioAttach","videoAttach"]}),[A.SelectionByAudio]:t(de,{title:"\u636E\u97F3\u9009\u6587",data:[],baseKey:"audioAttach"}),[A.SelectionByContent]:t(de,{title:"\u636E\u6587\u9009\u62E9",data:[],baseKey:"content"}),[A.SelectionImageByAudio]:t(de,{title:"\u636E\u97F3\u9009\u56FE",data:[],baseKey:"audioAttach"}),[A.SpeakingByTranslation]:t(De,{title:"\u636E\u8BD1\u8BF4\u6587",data:[],baseKey:"translation"}),[A.SpeakingByImage]:t(De,{title:"\u8BF4\u56FE",data:[],baseKey:"imageAttach"}),[A.SpeakingRepeat]:t(De,{title:"\u53E5\u5B50\u590D\u8FF0",data:[],baseKey:["audioAttach","content"]}),[A.SpeakingByContent]:t(Ur,{title:"\u8BFB\u53E5\u5B50",data:[],baseKey:"content"}),[A.SpeakingByFullword]:t(jr,{title:"\u80CC\u8BF5",data:[]})};function qr(){const{textbookId:e,unitId:n,stepId:r,stepValue:o}=N(),a=L(["study",e,n,r,o],()=>wr({textbookId:e,unitId:n,stepId:r,stepValue:o})),{data:s}=a;let i=null;return $e[o]?s&&(i=K.cloneElement($e[o],{data:s})):i=t("span",{children:"\u6682\u4E0D\u652F\u6301"}),t(x,{sx:{position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:100,background:"#fff"},children:t(J,{sx:{height:"100%"},...a,children:i})})}function Vr(e={page:0,size:10}){return b.post("/study/record",e)}function Or(e={page:0,size:10}){return b.post("/exam/record",e)}function Bt(e){return d(x,{sx:{position:"relative",display:"inline-flex"},children:[t(Ne,{variant:"determinate",color:e.value===100?"success":"primary",...e}),t(x,{sx:{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},children:t(v,{variant:"caption",component:"div",color:"text.secondary",children:`${Math.round(e.value)}%`})})]})}function ke({fetchNextPage:e,children:n,hasChildren:r,isLoading:o,hasNextPage:a,error:s}){return t(Fn,{loadMore:e,hasMore:!s&&(a===void 0?o:a),loader:t(x,{sx:{display:"flex",justifyContent:"center",my:1},children:t(Ne,{})},"loader"),useWindow:!1,children:s?t(it,{error:s}):!o&&!r?t(st,{}):n})}const $r=e=>{if(!e||e.length===0)return[];const n=new Map;return e.forEach(r=>{n.has(r.lastDoTime)||n.set(r.lastDoTime,[]),n.get(r.lastDoTime).push(r)}),[...n]};function Yr(){var o;const e=ve(["studyRecord"],({pageParam:a=0})=>Vr({page:a,size:10}),{getNextPageParam:a=>{if(a.page<a.totalPages-1)return a.page+1}}),n=((o=e.data)==null?void 0:o.pages.reduce((a,s)=>a.concat(s.content),[]))||[],r=$r(n);return t($,{children:t(ke,{fetchNextPage:()=>e.fetchNextPage(),hasNextPage:e.hasNextPage,isLoading:e.isLoading,hasChildren:n.length>0,children:t(q,{children:r.map((a,s)=>t(x,{component:"li",sx:{borderBottom:s===r.length-1?0:1,borderBottomColor:"divider"},children:d("ul",{style:{padding:0,margin:0},children:[t(et,{sx:{lineHeight:"36px"},children:a[0]}),a[1].map((i,u)=>d(V,{children:[t(O,{sx:{whiteSpace:"pre"},primary:`${i.textbookName}  /  ${i.unitName}`,secondaryTypographyProps:{display:"flex",flexWrap:"wrap"},secondary:d(k,{children:[d(x,{component:"span",children:["\u5355\u5143\u5F97\u5206: ",i.onlineScore]}),d(x,{component:"span",sx:{mx:1},children:["\u8BFE\u7A0B\u5F97\u5206: ",i.onlineAllScore]}),d(x,{component:"span",children:["\u5B66\u65F6: ",pt(parseInt(i.studyTime,10))]})]})}),t(Bt,{value:parseInt(i.studyRate,10)})]},`${a[0]}-${u}`))]})},`${a[0]}`))})})})}function Hr(e){return b.post("common/feedback/add",{content:e})}function Gr(e){return b.post("common/feedback/search",e)}function Kr(){var f;const e=ve(["feedback"],({pageParam:m=0})=>Gr({page:m,size:10}),{getNextPageParam:m=>{if(m.page<m.totalPages-1)return m.page+1}}),n=((f=e.data)==null?void 0:f.pages.reduce((m,g)=>m.concat(g.content),[]))||[],[r,o]=c.exports.useState(!1),[a,s]=c.exports.useState(""),[i,u]=c.exports.useState(!1),p=P(Hr),h=()=>{o(!1),s(""),u(!1)},l=async()=>{a?(await p.mutateAsync(a),e.refetch(),h()):u(!0)};return d($,{contentStyle:{bgcolor:"grey.100"},action:t(H,{variant:"outlined",onClick:()=>o(!0),children:"\u53D1\u7ED9\u8001\u5E08"}),children:[t(ke,{fetchNextPage:()=>e.fetchNextPage(),hasNextPage:e.hasNextPage,isLoading:e.isLoading,hasChildren:n.length>0,children:n.map(m=>t(kn,{sx:{m:1.5},elevation:1,children:d(qe,{children:[t(v,{sx:{fontSize:14},color:"text.secondary",children:m.createTime}),t(v,{sx:{fontSize:16},variant:"h6",children:m.recontent||"\u7A7A"}),m.response&&d(qe,{sx:{bgcolor:"grey.100",mt:1},children:[t(v,{sx:{fontSize:14},color:"text.secondary",children:m.updateTime}),t(v,{sx:{fontSize:16},variant:"body2",children:m.response})]})]})},m.id))}),t(Ae,{title:"\u53D1\u7ED9\u8001\u5E08",open:r,confirmLoading:p.isLoading,onClose:h,onConfirm:l,children:t(w,{fullWidth:!0,multiline:!0,autoFocus:!0,error:i,helperText:i?"\u4E0D\u80FD\u4E3A\u7A7A":"",rows:10,value:a,onChange:m=>s(m.target.value)})})]})}var Te=(e=>(e.Write="003001",e.Select="003002",e))(Te||{});function Qr(e){return b.post("/exam/search",e)}function Zr(e){return b.post("/exam/detail",{id:e})}function Jr(e){return b.post("/exam/commit",e)}var Xr="/assets/examCover.268c2a87.png";function _r(){const[e,n]=Ze(),r=Z(),o=e.get("type")||U.English,a=L(["exams",o],()=>Qr({deptId:r.deptId,subType:o})),s=(u,p)=>{n({type:p})},i=a.data||[];return d($,{children:[d(ye,{variant:"scrollable",value:o,onChange:s,children:[t(G,{label:"\u82F1\u8BED\u8BFE\u7A0B",value:U.English}),t(G,{label:"\u6C49\u8BED\u8BFE\u7A0B",value:U.Chinese})]}),t(J,{sx:{flex:1,overflow:"auto"},isEmpty:i.length===0,...a,children:t(q,{children:i.map((u,p)=>t(V,{divider:p!==i.length-1,disablePadding:!0,children:d(Ce,{component:Ee,to:`/exam/${u.id}`,state:{title:u.examName},children:[t(Me,{children:t(be,{variant:"square",src:Xr})}),t(O,{primary:d(k,{children:[u.examName,t(v,{sx:{display:"inline",marginLeft:"0.5em"},component:"span",color:"text.secondary",children:`(\u5171 ${u.examTotal} \u9898)`})]}),secondary:u.examDesc})]})},u.id))})})]})}var ea="/assets/exam-success.397f5d8a.png";function ta({data:e}){const n=j(),{id:r}=N(),[o,a]=c.exports.useState(!1),{current:s,next:i,isLast:u}=yt({data:e}),[p,h]=c.exports.useState(0),[l,f]=c.exports.useState(""),m=s.type===Te.Write&&s.title.includes("#"),g=s.type===Te.Select,E=()=>{if(m)return t(ft,{content:s.title,value:l.split("|"),onChange:I=>f(I.join("|"))});if(g){const I=(s.options||[]).map(ee=>({label:ee.content,value:ee.label}));return t(Ct,{value:l,onChange:f,options:I})}return t(w,{placeholder:"\u8F93\u5165\u7B54\u6848",fullWidth:!0,multiline:!0,value:l,onChange:I=>f(I.target.value),variant:"standard"})},y=()=>m?(l.match(/[^|\s]+/g)||[]).length===(s.title.match(/#/g)||[]).length:l.trim()!=="",B=()=>m?l.replace(/\s+\|\s+/g,"|").toLowerCase()===s.answer.toLowerCase():g?l===s.answer:we(l,s.answer),C=c.exports.useRef(0),D=c.exports.useRef(0);c.exports.useEffect(()=>{C.current=Date.now()},[]);const{mutate:R,isLoading:_}=P(Jr,{onSuccess(){a(!0)}}),Re=()=>{if(y())if(B()||h(I=>I+1),!u)i(),f("");else{const I=Date.now(),ee=(I-C.current)/1e3|0;D.current=ee;const At={startTime:se(C.current).format("YYYY-MM-DD HH:mm:ss"),endTime:se(I).format("YYYY-MM-DD HH:mm:ss"),examTime:ee,examId:r,examNoNum:p,examYesNum:e.length-p};R(At)}else Y("\u7B54\u6848\u4E0D\u80FD\u4E3A\u7A7A",{variant:"warning",autoHideDuration:2e3})},le=()=>{n(-1)};return d(ie,{sx:{display:"flex",flexDirection:"column",height:"100%",pt:2},children:[d(x,{sx:{flex:1,overflowY:"auto"},children:[s.attach&&t(ue,{attach:s.attach},s.id),!m&&t(v,{variant:"study",mb:1,children:s.title}),E()]}),t(x,{sx:{p:2,display:"flex",justifyContent:"center"},children:t(Q,{loading:_,variant:"contained",onClick:Re,children:u?"\u63D0\u4EA4":"\u4E0B\u4E00\u9898"})}),o&&t(gt,{title:"\u8BC4\u6D4B\u5B8C\u6210",cancelButtonText:"\u786E\u5B9A",open:o,onClose:le,children:d(x,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[t("img",{style:{width:"70%"},src:ea,alt:""}),d(Be,{direction:"row",spacing:2,children:[d("span",{children:["\u6B63\u786E\uFF1A",e.length-p,"\u9898"]}),d(x,{component:"span",color:"error.main",children:["\u9519\u8BEF\uFF1A",p,"\u9898"]}),d("span",{children:["\u7528\u65F6\uFF1A",pt(D.current)]})]})]})})]})}function na(){const{id:e}=N(),n=T(),r=L(["examDetail",e],()=>Zr(e)),o=ct(n.state)?n.state.title:"\u8BC4\u6D4B",a=r.data||[];return d(x,{sx:{position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:100,background:"#fff",display:"flex",flexDirection:"column"},children:[t(mt,{primary:!0,title:o}),t(J,{sx:{flex:1,overflow:"auto"},...r,children:a.length>0&&t(ta,{data:a})})]})}const ra=e=>{if(!e||e.length===0)return[];const n=new Map;return e.forEach(r=>{n.has(r.createTime)||n.set(r.createTime,[]),n.get(r.createTime).push(r)}),[...n]};function aa(){var o;const e=ve(["examRecord"],({pageParam:a=0})=>Or({page:a,size:10}),{getNextPageParam:a=>{if(a.page<a.totalPages-1)return a.page+1}}),n=((o=e.data)==null?void 0:o.pages.reduce((a,s)=>a.concat(s.content),[]))||[],r=ra(n);return t($,{children:t(ke,{fetchNextPage:()=>e.fetchNextPage(),hasNextPage:e.hasNextPage,isLoading:e.isLoading,hasChildren:n.length>0,children:t(q,{children:r.map((a,s)=>t(x,{component:"li",sx:{borderBottom:s===r.length-1?0:1,borderBottomColor:"divider"},children:d("ul",{style:{padding:0,margin:0},children:[t(et,{sx:{lineHeight:"36px"},children:a[0]}),a[1].map((i,u)=>{const p=Number(i.examYesNum),h=Number(i.examNoNum);return d(V,{children:[t(O,{sx:{whiteSpace:"pre"},primary:`${i.examName}`,secondaryTypographyProps:{display:"flex",flexWrap:"wrap"},secondary:d(k,{children:[d(x,{component:"span",children:["\u6B63\u786E\u6570:",t(x,{component:"span",sx:l=>({color:l.palette.success.main,ml:1}),children:p})]}),d(x,{component:"span",sx:{mx:2},children:["\u9519\u8BEF\u5904:",t(x,{component:"span",sx:l=>({color:l.palette.error.main,ml:1}),children:h})]}),d(x,{component:"span",children:["\u7528\u65F6: ",i.examTimeDesc]})]})}),t(Bt,{value:p/(p+h)*100})]},`${a[0]}-${u}`)})]})},`${a[0]}`))})})})}function oa(){var h;const e=Z(),n=j(),r=T(),o=new URLSearchParams(window.location.search),{register:a,handleSubmit:s,control:i,formState:{errors:u}}=xe({defaultValues:{gander:"1",realName:"",inviterCode:o.get("inviteCode")||void 0}}),p=P(Gn,{onSuccess(l){var m;F.updateUser(l);const f=((m=r.state)==null?void 0:m.from)||"/";n(f,{replace:!0})}});return e?e.registerFlag?t(oe,{to:"/",replace:!0}):t(x,{sx:l=>({display:"flex",height:"100%",alignItems:"flex-start",backgroundImage:`url("${nt}")`,backgroundSize:"cover",backgroundColor:"#fff",[l.breakpoints.down(444)]:{backgroundImage:"none"}}),children:d(ie,{maxWidth:"xs",component:"form",noValidate:!0,onSubmit:s(l=>p.mutate(l)),sx:{display:"flex",flexDirection:"column",py:4,mt:12,backgroundColor:"#fff"},children:[t(v,{variant:"h6",gutterBottom:!0,children:"\u5B8C\u5584\u4E2A\u4EBA\u4FE1\u606F"}),t(w,{margin:"normal",variant:"standard",InputLabelProps:{shrink:!0},required:!0,fullWidth:!0,label:"\u59D3\u540D",autoComplete:"tel",autoFocus:!0,helperText:(h=u.realName)==null?void 0:h.message,error:!!u.realName,...a("realName",{required:"\u8BF7\u8F93\u5165\u59D3\u540D"})}),t(Dn,{control:i,name:"gander",render:({field:l})=>d(In,{margin:"normal",size:"small",children:[t(Tn,{sx:{transform:"scale(0.75)",transformOrigin:"left top"},children:"\u6027\u522B"}),d(_e,{row:!0,...l,children:[t(fe,{value:"1",control:t(Ie,{}),label:"\u7537"}),t(fe,{value:"2",control:t(Ie,{}),label:"\u5973"})]})]})}),t(Q,{sx:{mt:2},variant:"contained",fullWidth:!0,type:"submit",loadingPosition:"start",startIcon:t(Pe,{}),loading:p.isLoading,children:"\u786E\u8BA4"})]})}):t(oe,{to:"/login",replace:!0})}var sa="data:image/png;base64,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";function ia(){var r;const e=ve(["messages"],({pageParam:o=0})=>dr({page:o,size:10}),{getNextPageParam:o=>{if(o.page<o.totalPages-1)return o.page+1}}),n=((r=e.data)==null?void 0:r.pages.reduce((o,a)=>o.concat(a.content),[]))||[];return t($,{children:t(ke,{fetchNextPage:()=>e.fetchNextPage(),hasNextPage:e.hasNextPage,isLoading:e.isLoading,hasChildren:n.length>0,children:t(q,{children:n.map((o,a)=>d(V,{alignItems:"flex-start",divider:a!==n.length-1,children:[t(Me,{children:t(be,{variant:"square",src:sa})}),t(O,{primary:o.title,secondary:o.newsContent})]},o.id))})})})}const me=({stepId:e,stepValue:n})=>`step/${e}/${n}`,vt=[{path:"/login",element:t(nr,{})},{path:"/register",element:t(oa,{})},{path:"/",element:t($n,{children:t(Jn,{})}),children:[{path:"/exam/:id",element:t(na,{})},{element:t(fr,{}),children:[{index:!0,element:t(oe,{to:"textbook",replace:!0})},{path:"textbook",element:t(vr,{}),breadcrumbName:"\u5DF2\u62A5\u8BFE\u7A0B"},{path:"alltextbook",element:t(Ar,{}),breadcrumbName:"\u514D\u8D39\u8BFE\u7A0B"},...["textbook","alltextbook"].map(e=>({path:`${e}/:type/:textbookId`,element:t(Sr,{}),children:[{path:"unit/:unitId",element:t(Ir,{}),children:[{path:me({stepId:":stepId",stepValue:":stepValue"}),element:t(qr,{})}]}]})),{path:"history",element:t(Yr,{}),breadcrumbName:"\u5B66\u4E60\u8BB0\u5F55"},{path:"feedback",element:t(Kr,{}),breadcrumbName:"\u5E08\u751F\u4E92\u52A8"},{path:"exams",element:t(_r,{}),breadcrumbName:"\u73B0\u5728\u6D4B\u8BD5"},{path:"recordExam",element:t(aa,{}),breadcrumbName:"\u6D4B\u8BD5\u8BB0\u5F55"},{path:"message",element:t(ia,{}),breadcrumbName:"\u7CFB\u7EDF\u901A\u77E5"}]}]}];function ua(){const e=Pn(vt);return t(On,{children:e})}const Ye=K.forwardRef((e,n)=>{const{href:r,...o}=e;return t(Ee,{ref:n,to:r,...o})}),he=Ln({typography:{button:{textTransform:"none"}},palette:{primary:{...Nn,main:"#ff630f",dark:"#ff870f",contrastText:"#fff"}},components:{MuiLink:{defaultProps:{component:Ye}},MuiButtonBase:{defaultProps:{LinkComponent:Ye}},MuiTypography:{defaultProps:{variantMapping:{study:"div"}}}}});he.typography.study={fontSize:"1rem",whiteSpace:"pre-wrap",userSelect:"none",[he.breakpoints.up("sm")]:{fontSize:"1.5rem"},[he.breakpoints.up("lg")]:{fontSize:"1.5rem"}};function la({children:e}){return t(Mn,{theme:he,children:e})}function ca(){return t(la,{children:d(Wn,{client:rt,children:[t(Rn,{}),t(zn,{basename:"/",children:t(ua,{})}),t(Un,{autoHideDuration:1500,anchorOrigin:{vertical:"bottom",horizontal:"left"}})]})})}const da=document.getElementById("root");jn.createRoot(da).render(t(K.StrictMode,{children:t(ca,{})}));
